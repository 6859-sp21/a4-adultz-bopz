(this["webpackJsonpreact-d3"]=this["webpackJsonpreact-d3"]||[]).push([[0],{132:function(t,e,n){},149:function(t,e,n){"use strict";n.r(e);var r,a,o,i,c,s=n(0),l=n.n(s),u=n(10),d=n.n(u),p=n(37),f=n(2),y=n.n(f),h=n(6),b=n(5),v=n(4),g=n(36),x=(n(132),n(1)),m=function(){var t=Object(h.a)(y.a.mark((function t(){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a("https://raw.githubusercontent.com/the-pudding/data/master/kidz-bop/KB_censored-lyrics.csv");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),j=function(){var t=Object(h.a)(y.a.mark((function t(){var e,n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m();case 2:return e=t.sent,n=Array.from(x.b(e,(function(t){return t.ogArtist}))).map((function(t){var e=Array.from(x.b(t[1],(function(t){return t.badword}))).map((function(t){var e=Array.from(x.b(t[1],(function(t){return t.songName}))).map((function(t){return{name:t[0],children:t[1]}}));return{name:t[0],children:e}}));return{name:t[0],children:e}})),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),O=function(){var t=Object(h.a)(y.a.mark((function t(){var e,n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m();case 2:return e=t.sent,n=Array.from(x.b(e,(function(t){return t.ogArtist}))).map((function(t){return{label:t[0],value:t[0],type:"artist"}})).sort((function(t,e){return t.label.localeCompare(e.label)})),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),w=500,k=n(3),A=x.g(x.d("#00875A","#ABF5D1")).domain([0,30]),B=x.g(x.d("#00B8D9","#B3F5FF")).domain([2,8]),E=x.g(x.d("#C054BE","#E1C7E0")).domain([0,8]),N=[null,A,B,E,E],S=function(t){var e=t.songOrArtist,n=t.setSongOrArtist,l=Object(s.useState)(null),u=Object(b.a)(l,2),d=u[0],p=u[1],f=Object(s.useRef)(null),v=function(t){var e="artists"!==t?t:"";n(""!==t?{value:t,label:t,type:"artist"}:L),x.h("#selectedArtistName").style("text-align","center").style("color","white").text(e)},g=function(t){return t.parent===d&&t.r>2*t.data.name.length||t.depth>1},m=function(t){var e=w/t[2];a=t,o.attr("transform",(function(n){return"translate(".concat((n.x-t[0])*e,",").concat((n.y-t[1])*e,")")})),i.attr("transform",(function(n){return"translate(".concat((n.x-t[0])*e,",").concat((n.y-t[1])*e,")")})),i.attr("r",(function(t){return t.r*e}))},O=function(t,e){c=e;var n=r.transition().duration(t.altKey?7500:750).tween("zoom",(function(t){var e=x.e(a,[c.x,c.y,2*c.r]);return function(t){return m(e(t))}}));i.filter((function(t){return t.parent===c||"inline"===this.style.display})).transition(n).style("fill-opacity",(function(t){return t.parent===c?1:0})).on("start",(function(t){t.parent===c&&(this.style.display="inline")})).on("end",(function(t){t.parent!==c&&(this.style.display="none")})),o.filter((function(t){return t.parent===c||"inline"===this.style.display})).transition(n).style("fill-opacity",(function(t){return t.parent===c?1:0})).on("start",(function(t){g(t)&&(this.style.display="inline")})).on("end",(function(t){t.parent!==c&&(this.style.display="none")}))};Object(s.useEffect)((function(){(function(){var t=Object(h.a)(y.a.mark((function t(){var e;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j();case 2:e=t.sent,p((n={name:"artists",children:e},x.f().size([w,500]).padding(3)(x.c(n).sum((function(t){return t.count})).sort((function(t,e){return e.count-t.count})))));case 5:case"end":return t.stop()}var n}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(s.useEffect)((function(){if(x.i("g > *").remove(),d&&f.current){c=d;var t=(r=x.h(f.current).attr("viewBox","-".concat(250," -").concat(250," ").concat(w," ").concat(500)).style("display","block").style("height","80vh").style("margin","0 -14px").attr("text-anchor","middle").style("cursor","pointer").on("click",(function(t){O(t,d),v("")}))).append("defs").append("filter").attr("id","glow");t.append("feGaussianBlur").attr("stdDeviation","2").attr("result","coloredBlur");var e=t.append("feMerge");return e.append("feMergeNode").attr("in","coloredBlur"),e.append("feMergeNode").attr("in","SourceGraphic"),i=r.append("g").selectAll("circle").data(d.descendants().slice(1)).join("circle").attr("stroke",(function(t){if("function"===typeof N[t.depth])return N[t.depth](t.r)})).attr("fill","transparent").style("display",(function(t){return t.parent===d?"inline":"none"})).on("mouseover",(function(t,e){x.h(t.target).attr("stroke-width",4).style("filter","url(#glow)"),g(e)||x.h("#tooltip").transition().duration(200).style("opacity",1).text(e.data.name)})).on("mousemove",(function(t){x.h("#tooltip").style("left",t.pageX+10+"px").style("top",t.pageY-10+"px")})).on("mouseout",(function(t){x.h(t.target).attr("stroke-width",1).style("filter",null),x.h("#tooltip").transition().duration(200).style("opacity",0)})).on("click",(function(t,e){c!==e&&(1===e.depth&&v(e.data.name),e.depth<3?O(t,e):3===e.depth&&B(e.data),t.stopPropagation())})),o=r.append("g").style("font","8px Lato").attr("pointer-events","none").attr("text-anchor","middle").selectAll("text").data(d.descendants()).join("text").style("fill","white").style("fill-opacity",(function(t){return t.parent===d?1:0})).style("display",(function(t){return g(t)?"inline":"none"})).text((function(t){return t.children?t.data.name:t.data.songName})),x.h("body").append("div").attr("id","tooltip").attr("style","position: absolute; opacity: 0;").style("color","white").style("font","12px Lato").style("background-color","#102a43bb").style("padding","8px").style("border-radius","4px"),x.h("body").append("div").attr("id","lyrics").style("z-index","-10").style("position","absolute").style("opacity","0").style("width","80vw").style("height","80vh").style("left","10%").style("top","10%").style("overflow","scroll").style("color","white").style("font","16px Lato").style("background-color","black").style("padding","24px").style("border-radius","12px"),x.h("#lyrics").append("button").style("position","absolute").style("right","12px").style("top","12px").text("Close").on("click",(function(){x.h("#lyrics").transition().duration(200).style("z-index",-10).style("opacity",0)})),x.h("#lyrics").append("h2").style("margin-top",0).style("text-align","center").attr("id","lyrics-title"),x.h("#lyrics").append("p").style("text-align","center").attr("id","lyrics-year"),x.h("#lyrics").append("div").attr("id","lyrics-content"),m([d.x,d.y,2*d.r]),document.addEventListener("keydown",A),function(){document.removeEventListener("keydown",A)}}}),[d]);var A=function(t){"Escape"===t.key&&(O(t,d),v("")),x.h("#lyrics").transition().duration(200).style("opacity",0).style("z-index",-10)},B=function(t){var e=t.children.map((function(t){return"<b>Original Lyric:</b><br />"+('"'+t.ogLyric+'" <br /><br />')+"<b>Kidz Bop Lyric:</b><br />"+("cuts verse"===t.kbLyric?"<i>cuts verse</i>":'"'+t.kbLyric+'"')})).join("<hr />"),n=t.children[0],r=n.songName+" by "+n.ogArtist,a="Released in "+n.year+".";x.h("#lyrics-title").style("font-weight","bold").text(r),x.h("#lyrics-year").text(a),x.h("#lyrics-content").html("<div>"+e+"</div>"),x.h("#lyrics").transition().duration(200).style("z-index",10).style("opacity",1)};return Object(s.useEffect)((function(){if(e&&d){var t=d.descendants().filter((function(t){return t.data.name===e.value}))[0];t&&O({},t)}}),[e,d,O]),Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("h3",{id:"selectedArtistName"}),Object(k.jsx)("svg",{className:"d3-component",width:"100%",height:"100%",ref:f})]})},L={label:"your favorite artist",value:"all",type:"all"},z={control:function(t){return Object(v.a)(Object(v.a)({},t),{},{backgroundColor:"var(--dark)",color:"var(--light-text)",border:"none",borderRadius:"0",borderBottom:"2px solid var(--light-green)",boxShadow:"none","&:hover":{borderBottom:"2px solid var(--blue)"}})},placeholder:function(t){return Object(v.a)(Object(v.a)({},t),{},{backgroundColor:"var(--dark)",color:"var(--dark-text)"})},singleValue:function(t){return Object(v.a)(Object(v.a)({},t),{},{color:"var(--light-text)"})},indicatorSeparator:function(){return{display:"none"}},dropdownIndicator:function(t){return Object(v.a)(Object(v.a)({},t),{},{color:"var(--light-green)","&:hover":{color:"var(--light-green)"}})},input:function(t){return Object(v.a)(Object(v.a)({},t),{},{color:"var(--light-text)"})},menu:function(t){return Object(v.a)(Object(v.a)({},t),{},{backgroundColor:"var(--dark)",color:"var(--light-text)"})},option:function(t,e){return Object(v.a)(Object(v.a)({},t),{},{fontSize:"16px",color:"var(--light-text)",backgroundColor:e.isSelected?"var(--blue)":e.isFocused?"var(--light-green)":"var(--dark)"})}},C=function(){var t=Object(s.useState)(null),e=Object(b.a)(t,2),n=e[0],r=e[1],a=Object(s.useState)([]),o=Object(b.a)(a,2),i=o[0],c=o[1];return Object(s.useEffect)((function(){(function(){var t=Object(h.a)(y.a.mark((function t(){var e;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O();case 2:e=t.sent,c(e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(k.jsxs)("div",{className:"App",children:[Object(k.jsxs)("div",{className:"App-header",children:["What's",Object(k.jsx)(g.a,{className:"App-select",autoFocus:!0,placeholder:"your favorite artist",options:Object(p.a)(i),value:n,onChange:r,styles:z}),"spitting?"]}),Object(k.jsx)(S,{songOrArtist:n,setSongOrArtist:r})]})};d.a.render(Object(k.jsx)(l.a.StrictMode,{children:Object(k.jsx)(C,{})}),document.getElementById("root"))}},[[149,1,2]]]);
//# sourceMappingURL=main.cdbe8ab7.chunk.js.map